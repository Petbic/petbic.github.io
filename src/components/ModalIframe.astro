---
const { text,iframeSrc } = Astro.props;
---

<button
    class="redirect-button py-2 px-3 inline-flex items-center gap-x-2 md:px-8 text-sm text-white font-medium rounded-full border border-gray-200 bg-gradient-to-r from-sky-500 to-indigo-500"
    >{text}</button
>
<div
    id="modal"
    class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 z-10 flex items-center justify-center"
>
    <div class="bg-white p-4 rounded-lg shadow-lg">
        <iframe
            src={iframeSrc}
            width="600px"
            height="600px"></iframe>
        <button
            id="close-modal"
            class="mt-4
            py-2 px-4 bg-blue-500 text-white rounded"
            >Cerrar</button
        >
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".redirect-button").forEach((button) => {
            button.addEventListener("click", (event) => {
                const modal = document.getElementById("modal");
                if (modal) {
                    modal.classList.remove("hidden");
                }
            });
        });
        const closeModalButton = document.getElementById("close-modal");
        if (closeModalButton) {
            closeModalButton.addEventListener("click", () => {
                const modal = document.getElementById("modal");
                if (modal) {
                    modal.classList.add("hidden");
                }
            });
        }
    });
</script>
